<section class="pagos">

    <h2>ðŸ’³ Pagos</h2>

    @if (cargando()) {
    <p>Cargando informaciÃ³n de pagosâ€¦</p>
    }

    @if (plan()) {

    <div class="card resumen">
        <p><strong>Plan:</strong> {{ plan()!.nombre }}</p>
        <p>Total: ${{ plan()!.montoTotal }}</p>
        <p>Pagado: ${{ plan()!.montoPagado }}</p>
        <p class="pendiente">
            Saldo pendiente: ${{ plan()!.saldoPendiente }}
        </p>
    </div>

    <div class="card">
        <h3>Historial de pagos</h3>

        @for (p of plan()!.pagos; track p.id) {
        <div class="fila">
            <span>{{ p.fecha }}</span>
            <span>${{ p.monto }}</span>
            <span>{{ p.metodo }}</span>
            <button (click)="descargarComprobante(p.id)">
                ðŸ“¥ Comprobante
            </button>
        </div>
        }
    </div>

    <button class="btn-descargar" (click)="descargarReporte()">
        ðŸ“„ Descargar reporte de pagos
    </button>

    }

</section>
