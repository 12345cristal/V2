<div class="documentos-container">
    <div class="header">
        <h1>ğŸ“„ Mis Documentos</h1>
        <button
            (click)="mostrarFormulario = !mostrarFormulario"
            class="btn-primary">
            + Subir Documento
        </button>
    </div>

    <!-- Formulario de carga -->
    <div *ngIf="mostrarFormulario" class="formulario">
        <input
            type="file"
            #fileInput
            (change)="onFileSelected($event)"
            accept=".pdf,.docx,.xlsx,.jpg,.png,.txt">
        <button
            (click)="subirDocumento()"
            [disabled]="!archivoSeleccionado || cargando">
            {{ cargando ? 'Subiendo...' : 'Subir' }}
        </button>
    </div>

    <!-- Lista de documentos -->
    <div class="documentos-list">
        <div *ngIf="cargando" class="mensaje">â³ Cargando...</div>

        <div *ngIf="documentos.length === 0 && !cargando" class="mensaje">
            No hay documentos aÃºn
        </div>

        <div *ngFor="let doc of documentos" class="documento-card">
            <div class="info">
                <h3>{{ doc.titulo || doc.nombre }}</h3>
                <p>{{ doc.fecha_creacion }}</p>
            </div>
            <div class="acciones">
                <button
                    (click)="descargarDocumento(doc.id)"
                    class="btn-secundario">
                    â¬‡ï¸ Descargar
                </button>
                <button
                    (click)="eliminarDocumento(doc.id)"
                    class="btn-peligro">
                    ğŸ—‘ï¸ Eliminar
                </button>
            </div>
        </div>
    </div>
</div>
