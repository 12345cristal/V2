<div class="documentos-container">
    <div class="header">
        <h1>ğŸ“„ Mis Documentos</h1>

        <button
            type="button"
            class="btn-primary"
            (click)="mostrarFormulario.set(!mostrarFormulario())">
            + Subir Documento
        </button>
    </div>

    <!-- ==========================
       FORMULARIO DE CARGA
  =========================== -->
    <div *ngIf="mostrarFormulario()" class="formulario">
        <input
            type="file"
            (change)="onFileSelected($event)"
            accept=".pdf,.docx,.xlsx,.jpg,.png,.txt" />

        <button
            type="button"
            (click)="subirDocumento()"
            [disabled]="!archivoSeleccionado() || cargando()">
            {{ cargando() ? 'Subiendo...' : 'Subir' }}
        </button>
    </div>

    <!-- ==========================
       LISTA DE DOCUMENTOS
  =========================== -->
    <div class="documentos-list">

        <!-- Cargando -->
        <div *ngIf="cargando()" class="mensaje">
            â³ Cargando...
        </div>

        <!-- Sin documentos -->
        <div
            *ngIf="documentos().length === 0 && !cargando()"
            class="mensaje">
            No hay documentos aÃºn
        </div>

        <!-- Tarjetas -->
        <div
            *ngFor="let doc of documentos()"
            class="documento-card">

            <div class="info">
                <h3>{{ doc.titulo || doc.nombre }}</h3>
                <p>{{ doc.fecha_creacion }}</p>
            </div>

            <div class="acciones">
                <button
                    type="button"
                    class="btn-secundario"
                    (click)="descargarDocumento(doc.id)">
                    â¬‡ï¸ Descargar
                </button>

                <button
                    type="button"
                    class="btn-peligro"
                    (click)="eliminarDocumento(doc.id)">
                    ğŸ—‘ï¸ Eliminar
                </button>
            </div>
        </div>
    </div>
</div>
